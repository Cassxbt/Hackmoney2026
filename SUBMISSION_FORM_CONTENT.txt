=================================================================
AGENTPAY — HACKMONEY 2026 SUBMISSION FORM CONTENT
=================================================================

Copy-paste this content directly into the ETHGlobal submission form.

-----------------------------------------------------------------
SHORT DESCRIPTION (100 characters max)
-----------------------------------------------------------------

AgentPay: MCP server giving AI agents USDC payments, micropayments, and cross-chain settlement—all gas-free

Character count: 100

-----------------------------------------------------------------
FULL DESCRIPTION (280+ characters)
-----------------------------------------------------------------

AI agents are doing real work but can't pay for anything. AgentPay solves this.

AgentPay is an MCP server that gives any AI agent a financial API. Install it and your agent can:
- Send USDC payments across chains (gas-free via Circle Paymaster)
- Stream micropayments through state channels (250x cheaper than on-chain via Yellow Nitrolite)
- Resolve agent identities via ENS (.eth names)
- Check unified USDC balance across 7 chains (Circle Gateway)

This is the payment layer for the agent economy. HTTP gave agents data. AgentPay gives them money.

Character count: 514

-----------------------------------------------------------------
HOW IT'S MADE (280+ characters minimum)
-----------------------------------------------------------------

Built with:
- MCP SDK (@modelcontextprotocol/sdk) for AI agent tooling
- Yellow Nitrolite SDK (@erc7824/nitrolite) for state channels — enables 1000 micropayments with 1 on-chain tx
- Circle Paymaster for gas-free USDC transactions — agents pay gas in USDC via ERC-4337 smart accounts
- Circle Gateway REST API for unified USDC balance across Arbitrum, Base, Polygon, Ethereum, Optimism
- ENS via viem for .eth name resolution — agents can send to readable names, not just 0x addresses
- Base Sepolia as primary chain (all components compatible)

Architecture:
AI agents call MCP tools → AgentPay server → Circle/Yellow/ENS → on-chain settlement

Hackiest part: State channel message flow with Yellow ClearNode WebSocket. Auth uses EIP-712 signed messages with domain name = application name ("agentpay"). Channels require cooperative state updates between participants.

State channels are the key differentiator. Without them, 1000 micropayments = $250 gas. With Nitrolite channels: 1000 off-chain updates + 1 on-chain close = $0.02 total.

All code written during hackathon (Jan 30 — Feb 8, 2026). Full commit history shows progression from scaffold → Circle → Yellow → ENS.

Character count: ~1000

-----------------------------------------------------------------
PARTNER PRIZE 1: YELLOW NETWORK ($15K)
-----------------------------------------------------------------

How we used Yellow's tools:

We integrated the Nitrolite SDK (@erc7824/nitrolite v0.5.3) for state channel micropayments. Our implementation:

1. Authentication: Connected to Yellow's ClearNode WebSocket (wss://clearnet.yellow.com/ws) using EIP-712 signed auth messages
2. Channel Lifecycle: Implemented full ERC-7824 channel flow:
   - agentpay_open_channel — creates app session with initial USDC deposit
   - agentpay_micropay — off-chain state updates (version increments, allocation rebalancing)
   - agentpay_close_channel — cooperative close with on-chain settlement
3. Performance: Demonstrated 250x cost savings (1000 micropayments: $0.02 vs $250 on-chain)
4. Use Case: Real micropayment streaming for AI agent-to-agent payments (pay-per-API-call, pay-per-data-point)

State channels are central to our value proposition, not a bolt-on. Without Nitrolite, micropayments are economically impossible for AI agents.

Feedback for Yellow:
- SDK documentation is good but lacks WebSocket message flow examples
- EIP-712 auth domain name requirement (must equal application name) was unclear initially
- Would benefit from TypeScript type exports for RPC message structures
- ClearNode testnet is fast and responsive

Code locations:
- /src/lib/nitrolite.ts — channel logic (440 lines)
- /src/tools/channel.ts — MCP tool handlers
- All channel operations use Yellow infrastructure

-----------------------------------------------------------------
PARTNER PRIZE 2: ARC / CIRCLE ($10K)
-----------------------------------------------------------------

How we used Circle's products:

We integrated three Circle products:

1. Circle Paymaster (gas-free USDC payments):
   - Agents pay gas in USDC, not ETH
   - Used ERC-4337 smart accounts on Base Sepolia
   - Implementation: /src/lib/paymaster.ts
   - Live tx: 0xcd30ddbc4919a37a489cfa51a031fe66bacbfb22bc5c524892938437785e9f03

2. Circle Gateway (unified balance):
   - agentpay_balance tool queries USDC across 7 chains in <500ms
   - No bridging required — agents see total available USDC
   - Implementation: /src/lib/balance.ts

3. Integration: Both are central to UX:
   - Agents don't hold ETH (Paymaster eliminates gas management)
   - Agents don't fragment liquidity (Gateway unifies balance)

Circle Product Feedback:
- Paymaster API is straightforward, worked on first try
- Gateway REST API is fast and well-documented
- Would benefit from WebSocket subscriptions for real-time balance updates
- Smart account creation flow could be clearer in docs

Code locations:
- /src/lib/paymaster.ts — Paymaster integration
- /src/lib/balance.ts — Gateway API
- /src/tools/send.ts — Paymaster in agentpay_send

-----------------------------------------------------------------
PARTNER PRIZE 3: ENS ($5K)
-----------------------------------------------------------------

How we used ENS:

Custom ENS integration (not RainbowKit):

1. Resolution: agentpay_send tool accepts .eth names and resolves them to addresses via mainnet ENS
2. Implementation: Used viem's getEnsAddress with mainnet public client
3. UX: Agents can send to vitalik.eth instead of 0x7a3b...
4. Central to design: Agent identity is human-readable (not just 0x addresses)

Use case:
- Agents register as [agent-name].agentpay.eth
- Services discoverable via ENS
- Future: ENS subdomains for agent registry

Feedback for ENS:
- viem integration is clean
- Mainnet resolution is fast
- Would benefit from L2 ENS resolution examples in docs

Code location:
- /src/tools/send.ts lines 15-33 — ENS resolution logic

-----------------------------------------------------------------
GITHUB REPO
-----------------------------------------------------------------

https://github.com/YOUR_USERNAME/agentpay

(Replace YOUR_USERNAME with your actual GitHub username)

-----------------------------------------------------------------
DEMO VIDEO
-----------------------------------------------------------------

https://youtube.com/watch?v=YOUR_VIDEO_ID

(Replace YOUR_VIDEO_ID with your actual YouTube video ID)

-----------------------------------------------------------------
ADDITIONAL NOTES (Optional)
-----------------------------------------------------------------

AI Attribution:
This project was built with assistance from Claude (Anthropic's AI). See AI_ATTRIBUTION.md in the repo for full disclosure of AI contributions. All architectural decisions, testing, and validation were performed by humans.

Test Addresses:
- EOA: 0x66d71a8612Fbf6ab69340Bf82aB431e1Ad30b5c3
- Smart Account: 0xc3A8c8fe8430877317207fd5e50Fa0F458014D80
- Network: Base Sepolia (testnet)

Contact:
[Your email or Discord username for judge questions]

=================================================================
END OF SUBMISSION CONTENT
=================================================================

CHECKLIST BEFORE SUBMITTING:
☐ Replace YOUR_USERNAME with actual GitHub username
☐ Replace YOUR_VIDEO_ID with actual YouTube video ID
☐ Verify GitHub repo is PUBLIC
☐ Verify YouTube video is UNLISTED or PUBLIC (not PRIVATE)
☐ Test both links in incognito window
☐ Read all text aloud to catch typos
☐ Check character counts (short desc = 100 max)
☐ Submit 2 hours BEFORE deadline (servers crash at deadline)

SUBMIT AT: https://ethglobal.com/events/hackmoney2026
